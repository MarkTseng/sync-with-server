<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Comet</title>
<style>
iframe {
    position: fixed;
    right: 10px;
    top: 10px;
    width: 500px;
    height: 500px;
}
#show {
    border: solid 1px #ccc;
    padding: 5px;
    width: 500px;
    height: 500px;
    font-size: 11px;
    overflow: auto;
}
</style>
</head>
<body>

    <h1>Comet (Forever Iframe Version)</h1>

    <div id="show"></div>

    <iframe src=""></iframe>

    <script type="text/javascript" src="http://yui.yahooapis.com/3.3.0/build/yui/yui-min.js"></script> 
    <script type="text/javascript">
    YUI().use("node-base", function (Y) {
        var node  = Y.one("#show"),
            frame = Y.one("iframe");
       
        // 設定 Iframe 的 Callback 方法
        window.callback = function (str) {
            node.append("<p>" + str + "</p>");
        };

        Y.later(10, null, function () {
            document.getElementsByTagName("iframe")[0].src = "comet-iframe.php";
        });
    });
    </script>
</body>
</html>
